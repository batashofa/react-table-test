(this["webpackJsonpreact-table-test"]=this["webpackJsonpreact-table-test"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(6),i=n.n(c),r=(n(20),n(5)),l=n(3),o=(n(21),n(22),n(2)),u="GET_DATA",d="SORT_DATA",j=function(e){return{type:u,payload:e}},h=n(11),f=n(12),m=n(15),b=n(13),O=(n(27),n(0)),p=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(h.a)(this,n),(s=t.call(this,e)).state={currentPage:1},s}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.numOfElements!==e.numOfElements&&this.setState({currentPage:1})}},{key:"handleClick",value:function(e){this.props.currentPage(e),this.setState({currentPage:e})}},{key:"getPaginationButtons",value:function(){for(var e=this,t=[],n=Math.ceil(this.props.numOfElements/this.props.elementsPerPage),s="",a=function(a){var c=e.state.currentPage+a;e.state.currentPage+2>=n&&(c=n-2+a,s=""),c>0&&t.push(Object(O.jsx)("button",{className:"pagination__button ".concat(c===e.state.currentPage?"pagination__button-active":""," "),onClick:function(){return e.handleClick(c)},children:c},c))},c=0;c<3;c++)a(c);return t.push(s),t}},{key:"onClickLeft",value:function(){return this.state.currentPage>1?this.state.currentPage-1:this.state.currentPage}},{key:"onClickRight",value:function(){return 0===this.props.numOfElements?this.state.currentPage:this.state.currentPage>=1&&this.state.currentPage<this.props.numOfElements/this.props.elementsPerPage?this.state.currentPage+1:this.state.currentPage}},{key:"textPaginationItems",value:function(){return 0===this.props.numOfElements?this.state.currentPage-1:this.props.numOfElements!==this.state.currentPage*this.props.elementsPerPage+1?"".concat(this.state.currentPage*this.props.elementsPerPage-19,"-").concat(this.state.currentPage*this.props.elementsPerPage>this.props.numOfElements?this.props.numOfElements:this.state.currentPage*this.props.elementsPerPage):this.props.numOfElements}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"pagination",children:Object(O.jsxs)("ul",{className:"pagination__list",children:[Object(O.jsxs)("li",{children:[this.textPaginationItems()," of ",this.props.numOfElements," items"]}),Object(O.jsx)("li",{className:"pagination__list-left",children:Object(O.jsx)("b",{onClick:function(){return e.handleClick(e.onClickLeft())},children:"Previous"})}),Object(O.jsx)("li",{children:this.getPaginationButtons()}),Object(O.jsx)("li",{className:"pagination__list-right",children:Object(O.jsx)("b",{onClick:function(){return e.handleClick(e.onClickRight())},children:"Next"})})]})})}}]),n}(a.a.Component),g=function(e){var t=e.id,n=Object(s.useState)(1),a=Object(l.a)(n,2),c=a[0],i=a[1],r=Object(s.useState)(!1),u=Object(l.a)(r,2),j=u[0],h=u[1],f=Object(o.c)((function(e){return e.data})),m=Object(o.b)();Object(s.useEffect)((function(){i(1)}),[f]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("table",{className:"table",children:[Object(O.jsxs)("tr",{onClick:function(e){h(!j),"arrowUp"===e.target.className?e.target.className="arrowDown":(e.target.parentNode.childNodes.forEach((function(e){return e.className="arrowDown"})),e.target.className="arrowUp"),m(function(e,t){return{type:d,field:e,reversed:t}}(e.target.id,j))},children:[Object(O.jsx)("th",{id:"id",className:"arrowDown",children:"id"}),Object(O.jsx)("th",{id:"firstName",className:"arrowDown",children:"First name"}),Object(O.jsx)("th",{id:"lastName",className:"arrowDown",children:"Last name"}),Object(O.jsx)("th",{id:"email",className:"arrowDown",children:"Email"}),Object(O.jsx)("th",{id:"phone",className:"arrowDown",children:"Phone"}),Object(O.jsx)("th",{id:"adress",className:"arrowDown",children:"State"})]}),function(e){return null===f||void 0===f?void 0:f.slice(20*(e-1),20*(e-1)+20)}(c).map((function(e,n){return Object(O.jsxs)("tr",{className:"tr-info",onClick:function(){return t(n+20*(c-1))},children:[Object(O.jsx)("td",{className:"td-info",children:e.id}),Object(O.jsx)("td",{className:"td-info",children:e.firstName}),Object(O.jsx)("td",{className:"td-info",children:e.lastName}),Object(O.jsx)("td",{className:"td-info",children:e.email}),Object(O.jsx)("td",{className:"td-info",children:e.phone}),Object(O.jsx)("td",{className:"td-info",children:e.adress.state})]},n)}))]}),Object(O.jsx)(p,{currentPage:function(e){return i(e)},numOfElements:f.length,elementsPerPage:20})]})};var x=function(){var e,t,n,a,c,i,u,d=Object(o.b)(),h=Object(o.c)((function(e){return e.data})),f=Object(s.useState)(0),m=Object(l.a)(f,2),b=m[0],p=m[1],x=Object(s.useState)(""),v=Object(l.a)(x,2),N=v[0],P=v[1],_=Object(s.useState)([]),w=Object(l.a)(_,2),k=w[0],C=w[1],E=Object(r.a)(new Set(k.reduce((function(e,t){return e=[].concat(Object(r.a)(e),[t.adress.state])}),[])));Object(s.useEffect)((function(){S()}),[]);var S=function(){fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json").then((function(e){return e.json()})).then((function(e){d(j(e)),C(e)})).catch((function(e){return console.log(e)}))};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{className:"heading",children:"Table"}),Object(O.jsxs)("div",{className:"form",children:[Object(O.jsx)("input",{className:"form__search",value:N,placeholder:"Search",onChange:function(e){P(e.target.value);var t=k.filter((function(t){return Object.values(t).toString().toLowerCase().includes(e.target.value.toLowerCase())}));d(j(t))}}),Object(O.jsx)("select",{className:"form__filter",onChange:function(e){P("");var t=k.filter((function(t){return t.adress.state===e.target.value}));d(j(t))},children:E.map((function(e){return Object(O.jsx)("option",{children:e})}))})]}),Object(O.jsx)(g,{id:function(e){return p(e)}}),Object(O.jsx)("div",{className:"info__wrapper",children:Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("b",{className:"info__title",children:"Profile info:"}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"Selected profile: "}),null===(e=h[b])||void 0===e?void 0:e.firstName," ",null===(t=h[b])||void 0===t?void 0:t.lastName]}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"Desctiption: "}),null===(n=h[b])||void 0===n?void 0:n.description]}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"Address: "}),null===(a=h[b])||void 0===a?void 0:a.adress.streetAddress," "]}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"City: "}),null===(c=h[b])||void 0===c?void 0:c.adress.city]}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"State: "}),null===(i=h[b])||void 0===i?void 0:i.adress.state]}),Object(O.jsxs)("div",{className:"info__text",children:[Object(O.jsx)("span",{children:"Index: "}),null===(u=h[b])||void 0===u?void 0:u.adress.zip]})]})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))},N=n(14),P={data:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{data:t.payload};case d:var n=Object(r.a)(e.data);return n.sort((function(e,n){return e[t.field]>n[t.field]||e[t.field].state>n[t.field].state?t.reversed?-1:1:e[t.field]<n[t.field]||e[t.field].state<n[t.field].state?t.reversed?1:-1:0})),{data:n};default:return e}},w=Object(N.a)(_);i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(o.a,{store:w,children:Object(O.jsx)(x,{})})}),document.getElementById("root")),v()}},[[29,1,2]]]);
//# sourceMappingURL=main.03b7e4cd.chunk.js.map